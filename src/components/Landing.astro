---
import heronblack from "../assets/heron-partners-black.png";
---

<div class="landing">
  <section id="values-header">
    <div id="values-container">
      <span class="value-text active">Humility</span>
      <span class="value-text">Passion</span>
      <span class="value-text">Unity</span>
      <span class="value-text">Servanthood</span>
      <span class="value-text">Integrity</span>
    </div>
  </section>

  <section id="welcome">
    <section class="header">
      <img src={heronblack.src} alt="Heron Partners Logo" class="logo" />
      <button id="hamburger" class="hamburger-menu" aria-label="Menu"
        >&#9776;</button
      >
      <div class="mobile-menu" id="mobile-menu">
        <div class="overlay-top">
          <div class="overlay-logo-row">
            <img
              src={heronblack.src}
              alt="Heron Partners Logo"
              class="overlay-logo"
            />
            <button class="close-overlay" id="close-overlay">X</button>
          </div>
        </div>

        <a href="/login" id="overlay-button">INVESTOR LOGIN &rightarrow;</a>
      </div>

      <a href="/login" class="button">INVESTOR LOGIN</a>
    </section>

    <p>
      Founded in 2023, Heron Partners is an investment firm pursuing excellence
      in Africa's capital markets. Our strategy focuses on delivering genuine
      alpha by investing in exceptional, accretive businesses priced
      significantly below their intrinsic value.
    </p>
  </section>
  <div id="down-arrow">&#x2193;</div>
</div>

<style>
  .logo {
    width: 350px;
    height: auto;
  }

  .fade-section {
    opacity: 0;
    transform: translateY(50px);
    transition:
      opacity 0.6s ease,
      transform 0.6s ease;
  }
  .fade-section.visible {
    opacity: 1;
    transform: translateY(0);
  }

  #values-header {
    display: flex;
    justify-content: space-around;
    padding: 15px 0;
    font-size: 1.2rem;
    font-weight: bold;
    background-color: #003366;
    color: white;
  }

  #values-container {
    display: flex;
    justify-content: space-evenly;
    width: 100%;
  }

  .value-text {
    opacity: 1;
    transition: opacity 0.5s ease;
  }
  .value-text:hover {
    color: #a8b0bc;
  }

  .landing {
    height: 100vh;
    position: relative;
  }
  #welcome {
    background-color: #a8b0bc;
    height: 97vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    position: relative;
  }

  #welcome p {
    font-size: 3.1rem;
    text-align: left;
    color: #333;
    padding: 0 150px;
    opacity: 1;
    transition: opacity 0.5s;
    display: inline-block;
    border-left: 5px solid #003366;
    padding-left: 20px;
    margin-left: 125px;
    line-height: 1.2;
  }

  #down-arrow {
    position: absolute;
    bottom: 30px;
    left: 5%;
    transform: translateX(-50%);
    font-size: 4rem;
    color: #285a97;
    cursor: pointer;
    animation: bounce 1.5s infinite;
    z-index: 1;
  }

  @keyframes bounce {
    0%,
    100% {
      transform: translateX(-50%) translateY(0);
    }
    50% {
      transform: translateX(-50%) translateY(10px);
    }
  }

  /* Header */
  .header {
    position: absolute;
    top: 0;
    width: 100%;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px;
    box-sizing: border-box;
  }

  .header a {
    font-size: 1.2rem;
    text-decoration: none;
    color: white;
    background-color: #003366;
    padding: 10px 20px;
    border-radius: 5px;
    transition: background-color 0.3s;
  }

  .hamburger-menu {
    display: none; /* Only show under 900px in media query */
    font-size: 2rem;
    cursor: pointer;
    color: #003366;
    background: none;
    border: none;
    outline: none;
  }

  .mobile-menu {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: #a8b0bc;
    z-index: 999;

    /* Hidden by default (slide from top) */
    opacity: 0;
    transform: translateY(-100%);
    pointer-events: none;
    transition:
      opacity 0.4s ease,
      transform 0.4s ease;

    display: flex;
    flex-direction: column;
    /* The overlay-top area and overlay-content area are stacked vertically */
  }
  .mobile-menu.open {
    opacity: 1;
    transform: translateY(0);
    pointer-events: auto;
  }
  .overlay-top {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 1.5rem 1rem 0;
  }
  .overlay-logo-row {
    display: flex;
    align-items: center;
    width: 100%;
    position: relative;
    margin-top: 1rem;
  }
  .overlay-logo {
    width: 250px;
  }
  .close-overlay {
    position: absolute;
    right: 1rem;
    background: none;
    border: none;
    font-size: 1.5rem;
    cursor: pointer;
    color: #003366;
  }
  .close-overlay:hover {
    color: #0056b3;
  }

  hr {
    border: none;
    border-bottom: 1px solid #ccc;
    margin: 1rem 0;
  }

  #overlay-button {
    background-color: #a8b0bc;
    color: #003366;
    padding: 14px;
    font-size: 1.2rem;
  }

  @media (max-width: 900px) {
    .logo {
      width: 250px;
    }
    #down-arrow {
      left: 50%;
      font-size: 2.2rem;
    }
    #welcome {
      height: 96dvh;
    }

    #welcome p {
      font-size: 2rem;
      padding: 0 40px;
      margin-left: 0;
      text-align: center;
      padding-left: 10px;
      margin-left: 5px;
      line-height: 1.2;
    }

    .hamburger-menu {
      display: block;
    }

    .header a {
      display: none;
    }

    .mobile-menu a {
      display: block !important;
    }

    #values-container {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 50px;
      position: relative;
    }

    #values-header {
      padding: 0;
    }

    .value-text {
      display: none;
      position: absolute;
      font-size: 1rem;
      animation: fade-in-out 3s linear infinite;
    }

    .value-text.active {
      display: block;
    }

    @keyframes fade-in-out {
      0% {
        opacity: 0;
      }
      10% {
        opacity: 1;
      }
      90% {
        opacity: 1;
      }
      100% {
        opacity: 0;
      }
    }
  }
</style>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    /********************************************
     * MOBILE VALUES CYCLING
     ********************************************/
    const values = document.querySelectorAll("#values-container .value-text");
    let currentIndex = 0,
      intervalId: number | null | undefined;

    function cycleValues() {
      values.forEach((el) => el.classList.remove("active"));
      values[currentIndex].classList.add("active");
      currentIndex = (currentIndex + 1) % values.length;
    }

    function handleViewportChange() {
      if (window.innerWidth <= 900) {
        // if not already cycling, start it
        if (!intervalId) {
          cycleValues(); // show first immediately
          intervalId = setInterval(cycleValues, 3000);
        }
      } else {
        // stop cycling if we go above 900
        if (intervalId) {
          clearInterval(intervalId);
          intervalId = null;
        }
      }
    }

    // Run once on load
    handleViewportChange();
    // Also run when window is resized
    window.addEventListener("resize", handleViewportChange);

    /********************************************
     * HAMBURGER MENU TOGGLE
     ********************************************/
    const hamburger = document.getElementById("hamburger");
    const mobileMenu = document.getElementById("mobile-menu");
    const closeOverlay = document.getElementById("close-overlay");

    if (hamburger && mobileMenu) {
      hamburger.addEventListener("click", () => {
        mobileMenu.classList.toggle("open");
      });
    }

    // Close the overlay when "X" button is clicked
    if (closeOverlay && mobileMenu) {
      closeOverlay.addEventListener("click", () => {
        mobileMenu.classList.remove("open");
      });
    }
  });
</script>
